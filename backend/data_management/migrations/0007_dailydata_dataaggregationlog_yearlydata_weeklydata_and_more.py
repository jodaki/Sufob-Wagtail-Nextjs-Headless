# Generated by Django 4.2.11 on 2025-08-08 22:17

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('data_management', '0006_alter_alldata_base_price_alter_alldata_final_price_and_more'),
    ]

    operations = [
        migrations.CreateModel(
            name='DailyData',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('avg_weighted_final_price', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='قیمت پایانی میانگین موزون')),
                ('avg_final_price', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='میانگین قیمت پایانی')),
                ('min_price', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='پایین\u200cترین قیمت')),
                ('max_price', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='بالاترین قیمت')),
                ('avg_base_price', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='میانگین قیمت پایه عرضه')),
                ('total_contracts_volume', models.DecimalField(decimal_places=2, default=0, max_digits=20, verbose_name='جمع حجم قراردادها')),
                ('total_supply_volume', models.DecimalField(decimal_places=2, default=0, max_digits=20, verbose_name='جمع حجم عرضه')),
                ('total_demand_volume', models.DecimalField(decimal_places=2, default=0, max_digits=20, verbose_name='جمع حجم تقاضا')),
                ('total_trade_value', models.DecimalField(decimal_places=2, default=0, max_digits=25, verbose_name='جمع ارزش معاملات (هزار ریال)')),
                ('buyer_seller_power_ratio', models.DecimalField(blank=True, decimal_places=4, max_digits=10, null=True, verbose_name='نسبت قدرت خریدار به فروشنده')),
                ('records_count', models.IntegerField(default=0, verbose_name='تعداد رکوردهای پردازش شده')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='آخرین بروزرسانی')),
                ('trade_date', models.DateField(unique=True, verbose_name='تاریخ معامله')),
                ('trade_date_shamsi', models.CharField(max_length=10, verbose_name='تاریخ شمسی')),
            ],
            options={
                'verbose_name': 'داده روزانه',
                'verbose_name_plural': 'داده\u200cهای روزانه',
                'db_table': 'data_management_daily_data',
                'ordering': ['-trade_date'],
            },
        ),
        migrations.CreateModel(
            name='DataAggregationLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('aggregation_type', models.CharField(choices=[('daily', 'روزانه'), ('weekly', 'هفتگی'), ('monthly', 'ماهانه'), ('yearly', 'سالانه'), ('all', 'همه موارد')], max_length=20, verbose_name='نوع تجمیع')),
                ('start_time', models.DateTimeField(verbose_name='زمان شروع')),
                ('end_time', models.DateTimeField(blank=True, null=True, verbose_name='زمان پایان')),
                ('records_processed', models.IntegerField(default=0, verbose_name='تعداد رکوردهای پردازش شده')),
                ('records_created', models.IntegerField(default=0, verbose_name='تعداد رکوردهای ایجاد شده')),
                ('records_updated', models.IntegerField(default=0, verbose_name='تعداد رکوردهای بروزرسانی شده')),
                ('success', models.BooleanField(default=False, verbose_name='موفقیت\u200cآمیز')),
                ('error_message', models.TextField(blank=True, verbose_name='پیام خطا')),
            ],
            options={
                'verbose_name': 'لاگ تجمیع داده',
                'verbose_name_plural': 'لاگ\u200cهای تجمیع داده',
                'db_table': 'data_management_aggregation_log',
                'ordering': ['-start_time'],
            },
        ),
        migrations.CreateModel(
            name='YearlyData',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('avg_weighted_final_price', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='قیمت پایانی میانگین موزون')),
                ('avg_final_price', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='میانگین قیمت پایانی')),
                ('min_price', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='پایین\u200cترین قیمت')),
                ('max_price', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='بالاترین قیمت')),
                ('avg_base_price', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='میانگین قیمت پایه عرضه')),
                ('total_contracts_volume', models.DecimalField(decimal_places=2, default=0, max_digits=20, verbose_name='جمع حجم قراردادها')),
                ('total_supply_volume', models.DecimalField(decimal_places=2, default=0, max_digits=20, verbose_name='جمع حجم عرضه')),
                ('total_demand_volume', models.DecimalField(decimal_places=2, default=0, max_digits=20, verbose_name='جمع حجم تقاضا')),
                ('total_trade_value', models.DecimalField(decimal_places=2, default=0, max_digits=25, verbose_name='جمع ارزش معاملات (هزار ریال)')),
                ('buyer_seller_power_ratio', models.DecimalField(blank=True, decimal_places=4, max_digits=10, null=True, verbose_name='نسبت قدرت خریدار به فروشنده')),
                ('records_count', models.IntegerField(default=0, verbose_name='تعداد رکوردهای پردازش شده')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='آخرین بروزرسانی')),
                ('year', models.IntegerField(unique=True, verbose_name='سال شمسی')),
            ],
            options={
                'verbose_name': 'داده سالانه',
                'verbose_name_plural': 'داده\u200cهای سالانه',
                'db_table': 'data_management_yearly_data',
                'ordering': ['-year'],
            },
        ),
        migrations.CreateModel(
            name='WeeklyData',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('avg_weighted_final_price', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='قیمت پایانی میانگین موزون')),
                ('avg_final_price', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='میانگین قیمت پایانی')),
                ('min_price', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='پایین\u200cترین قیمت')),
                ('max_price', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='بالاترین قیمت')),
                ('avg_base_price', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='میانگین قیمت پایه عرضه')),
                ('total_contracts_volume', models.DecimalField(decimal_places=2, default=0, max_digits=20, verbose_name='جمع حجم قراردادها')),
                ('total_supply_volume', models.DecimalField(decimal_places=2, default=0, max_digits=20, verbose_name='جمع حجم عرضه')),
                ('total_demand_volume', models.DecimalField(decimal_places=2, default=0, max_digits=20, verbose_name='جمع حجم تقاضا')),
                ('total_trade_value', models.DecimalField(decimal_places=2, default=0, max_digits=25, verbose_name='جمع ارزش معاملات (هزار ریال)')),
                ('buyer_seller_power_ratio', models.DecimalField(blank=True, decimal_places=4, max_digits=10, null=True, verbose_name='نسبت قدرت خریدار به فروشنده')),
                ('records_count', models.IntegerField(default=0, verbose_name='تعداد رکوردهای پردازش شده')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='آخرین بروزرسانی')),
                ('week_start_date', models.DateField(verbose_name='تاریخ شروع هفته')),
                ('week_end_date', models.DateField(verbose_name='تاریخ پایان هفته')),
                ('week_start_shamsi', models.CharField(max_length=10, verbose_name='شروع هفته شمسی')),
                ('week_end_shamsi', models.CharField(max_length=10, verbose_name='پایان هفته شمسی')),
                ('year', models.IntegerField(verbose_name='سال')),
                ('week_number', models.IntegerField(verbose_name='شماره هفته')),
            ],
            options={
                'verbose_name': 'داده هفتگی',
                'verbose_name_plural': 'داده\u200cهای هفتگی',
                'db_table': 'data_management_weekly_data',
                'ordering': ['-year', '-week_number'],
                'unique_together': {('year', 'week_number')},
            },
        ),
        migrations.CreateModel(
            name='MonthlyData',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('avg_weighted_final_price', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='قیمت پایانی میانگین موزون')),
                ('avg_final_price', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='میانگین قیمت پایانی')),
                ('min_price', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='پایین\u200cترین قیمت')),
                ('max_price', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='بالاترین قیمت')),
                ('avg_base_price', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='میانگین قیمت پایه عرضه')),
                ('total_contracts_volume', models.DecimalField(decimal_places=2, default=0, max_digits=20, verbose_name='جمع حجم قراردادها')),
                ('total_supply_volume', models.DecimalField(decimal_places=2, default=0, max_digits=20, verbose_name='جمع حجم عرضه')),
                ('total_demand_volume', models.DecimalField(decimal_places=2, default=0, max_digits=20, verbose_name='جمع حجم تقاضا')),
                ('total_trade_value', models.DecimalField(decimal_places=2, default=0, max_digits=25, verbose_name='جمع ارزش معاملات (هزار ریال)')),
                ('buyer_seller_power_ratio', models.DecimalField(blank=True, decimal_places=4, max_digits=10, null=True, verbose_name='نسبت قدرت خریدار به فروشنده')),
                ('records_count', models.IntegerField(default=0, verbose_name='تعداد رکوردهای پردازش شده')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='آخرین بروزرسانی')),
                ('year', models.IntegerField(verbose_name='سال')),
                ('month', models.IntegerField(verbose_name='ماه')),
                ('month_shamsi', models.CharField(max_length=7, verbose_name='ماه و سال شمسی')),
            ],
            options={
                'verbose_name': 'داده ماهانه',
                'verbose_name_plural': 'داده\u200cهای ماهانه',
                'db_table': 'data_management_monthly_data',
                'ordering': ['-year', '-month'],
                'unique_together': {('year', 'month')},
            },
        ),
    ]
